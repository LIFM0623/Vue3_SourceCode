{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../../runtime-core/src/createVnode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/createRenderer.ts", "../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["export const isObject = (value) => {\r\n  return value !== null && typeof value === 'object';\r\n};\r\n\r\nexport const isFunction = (value) => {\r\n  return typeof value === 'function';\r\n};\r\n\r\nexport function isString(value) {\r\n  return typeof value === 'string';\r\n}\r\n\r\nexport * from './shapeFlags'\r\n", "import { isString, ShapeFlags } from \"@vue/shared\";\r\n\r\nexport function isVode(value) {\r\n  return value?.__v_isvnode;\r\n}\r\n\r\nexport function createVnode(type, props, children?) {\r\n  const shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0;\r\n  const vnode = {\r\n    __v_isvnode: true,\r\n    type,\r\n    props,\r\n    children,\r\n    key: props?.key, // diff \u7B97\u6CD5\u9700\u8981\u7684key\r\n    el: null, //   \u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\r\n    shapeFlag\r\n  };\r\n\r\n  if (children) {\r\n    if (Array.isArray(children)) {\r\n      vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\r\n    } else {\r\n      children = String(children);\r\n      vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN;\r\n    }\r\n  }\r\n\r\n  return vnode;\r\n}\r\n", "import { isObject, isString, ShapeFlags } from '@vue/shared';\r\nimport { createVnode, isVode } from './createVnode';\r\n\r\nexport function h(type, propsOrChildren?, children?) {\r\n  const l = arguments.length;\r\n  if (l === 2) {\r\n    if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\r\n      // \u865A\u62DF\u8282\u70B9\r\n      if (isVode(propsOrChildren)) {\r\n        return createVnode(type, null, [propsOrChildren]);\r\n      } else {\r\n        // \u5C5E\u6027\r\n        return createVnode(type, propsOrChildren);\r\n      }\r\n    }\r\n    // \u6570\u7EC4\u6216\u8005\u513F\u5B50\r\n    return createVnode(type, null, propsOrChildren);\r\n  } else {\r\n    if (l > 3) {\r\n      children = Array.from(arguments).slice(2);\r\n    } else if (l === 3 && isVode(children)) {\r\n      children = [children];\r\n    }\r\n\r\n    return createVnode(type, propsOrChildren, children);\r\n  }\r\n}\r\n", "import { ShapeFlags } from '@vue/shared';\r\n\r\nexport function createRenderer(renderOptions) {\r\n  // core \u4E2D\u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3\r\n\r\n  const {\r\n    insert: hostInsert,\r\n    remove: hostRemove,\r\n    createElement: hostCreateElement,\r\n    createText: hostCreateText,\r\n    setElementText: hostSetElementText,\r\n    setText: hostSetText,\r\n    parentNode: hostParentNode,\r\n    nextSibling: hostNextSibling,\r\n    patchProp: hostPatchProp\r\n  } = renderOptions;\r\n\r\n  const mountChildren = (children, container) => {\r\n    for (let i = 0; i < children.length; i++) {\r\n      // children[i] \u53EF\u662F\u80FD\u7EAF\u6587\u672C\r\n      patch(null, children[i], container);\r\n    }\r\n  };\r\n\r\n  const mountElement = (vnode, container) => {\r\n    // hostCreateElement()\r\n\r\n    const { type, children, props, shapeFlag } = vnode;\r\n    let el = hostCreateElement(type);\r\n\r\n    if (props) {\r\n      for (let key in props) {\r\n        hostPatchProp(el, key, null, props[key]);\r\n      }\r\n    }\r\n    // 9 & 8 > 0 \u8BF4\u660E\u513F\u5B50\u662F\u6587\u672C\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      hostSetElementText(el, children);\r\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n      mountChildren(children, el);\r\n    }\r\n\r\n    hostSetElementText(el, children);\r\n    hostInsert(el, container);\r\n  };\r\n\r\n  // \u6E32\u67D3\u8D70\u8FD9\u91CC \u66F4\u65B0\u4E5F\u8D70\u8FD9\u91CC\r\n  const patch = (n1, n2, container) => {\r\n    if (n1 === n2) return; // \u4E24\u6B21\u6E32\u67D3\u540C\u4E00\u4E2A\u5143\u7D20 \u76F4\u63A5\u8DF3\u8FC7\r\n    if (n1 === null) {\r\n      // \u521D\u59CB\u5316\u64CD\u4F5C\r\n      mountElement(n2, container);\r\n    }\r\n  };\r\n\r\n  // \u591A\u6B21\u8C03\u7528 render \u4F1A\u8FDB\u884C\u865A\u62DF\u8282\u70B9\u5F97\u6BD4\u8F83 \u518D\u8FDB\u884C\u66F4\u65B0\r\n  const render = (vnode, container) => {\r\n    // \u5C06\u865A\u62DF\u8282\u70B9\u53D8\u6210\u6B63\u662F\u8282\u70B9\u8FDB\u884C\u6E32\u67D3\r\n    patch(container._vnode || null, vnode, container);\r\n\r\n    container._vnode = vnode;\r\n  };\r\n\r\n  return {\r\n    render\r\n  };\r\n}\r\n", "// \u4E3B\u8981\u662F\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u589E\u5220\u6539\u67E5\r\n\r\nexport const nodeOps = {\r\n  // \u5982\u679C\u7B2C\u4E09\u4E2A\u5143\u7D20\u4E0D\u4F20\u9012 === appendChild\r\n  insert(el, parent, anchor) {\r\n    //  appendChild  parent.insertBefore(el,otherElement/null)\r\n    parent.insertBefore(el, anchor || null);\r\n  },\r\n  remove(el) {\r\n    // \u79FB\u9664dom\u5143\u7D20\r\n    const parent = el.parentNode;\r\n    if (parent) {\r\n      parent.removeChild(el);\r\n    }\r\n  },\r\n  createElement(type) {\r\n    return document.createElement(type);\r\n  },\r\n  createText(text) {\r\n    return document.createTextNode(text);\r\n  },\r\n  // \u8BBE\u7F6E\u6587\u672C\r\n  setText(el, text) {\r\n    el.nodeValue = text;\r\n  },\r\n  setElementText(el, text) {\r\n    el.textContent = text;\r\n  },\r\n  parentNode(el) {\r\n    return el.parentNode;\r\n  },\r\n  nextSibling(el) {\r\n    return el.nextSibling;\r\n  }\r\n};\r\n", "export default function patchAttr(el, key, value) {\r\n  if (value) {\r\n    el.setAttribute(key, value);\r\n  } else {\r\n    el.removeAttribute(key, value);\r\n  }\r\n}\r\n", "export default function patchClass(el, value) {\r\n    if (value == null) {\r\n      el.removeAttribute('class');\r\n    } else {\r\n      el.className = value;\r\n    }\r\n  }\r\n", "function createInvoker(value) {\r\n  const invoker = (e) => {\r\n    invoker.value(e);\r\n  };\r\n  invoker.value = value; // \u66F4\u6539invoke\u4E2D\u5F97value\u5C5E\u6027 \u53EF\u4EE5\u4FEE\u6539\u5BF9\u5E94\u5F97\u8C03\u7528\u51FD\u6570\r\n  return invoker;\r\n}\r\nexport default function patchEvent(el, name, nextValue) {\r\n  // vue_event_invoker\r\n  const invokers = el._vei || (el._vei = {}); // \u7F13\u5B58\u4E8B\u4EF6\r\n\r\n  const eventName = name.slice(2).toLowerCase(); // \u4E8B\u4EF6\u540D\u79F0\r\n\r\n  const exisitingInvokers = invokers[name]; //\u662F\u5426\u5B58\u5728\u540C\u540D\u5F97\u65F6\u95F4\u7ED1\u5B9A\r\n\r\n  if (exisitingInvokers && nextValue) {\r\n    return (exisitingInvokers.value = nextValue); // \u4E8B\u4EF6\u6362\u7ED1\r\n  }\r\n\r\n  if (nextValue) {\r\n    const invoker = (invokers[name] = createInvoker(nextValue)); //  \u521B\u5EFA\u4E00\u4E2A\u8C03\u7528\u51FD\u6570\u5E76\u4E14\u5185\u90E8...\r\n    return el.addEventListener(eventName, invoker);\r\n  }\r\n  if (exisitingInvokers) {\r\n    invokers[name] = undefined;\r\n    el.removeEventListener(eventName, exisitingInvokers); // \u79FB\u9664\u4E8B\u4EF6\r\n  }\r\n}\r\n", "export default function patchStyle(el, prevValue, nextValue) {\r\n  let style = el.style;\r\n\r\n  for (let key in nextValue) {\r\n    style[key] = nextValue[key]; // \u65B0\u6837\u5F0F\u8981\u5168\u90E8\u751F\u6548\r\n  }\r\n  if (prevValue) {\r\n    for (let key in prevValue) {\r\n      if (nextValue[key] == null) {\r\n        style[key] = null; // \u65E7\u6837\u5F0F\u4E2D\u6709\u7684 \u65B0\u6837\u5F0F\u4E2D\u6CA1\u6709\u7684\u8981\u6E05\u7A7A\r\n      }\r\n    }\r\n  }\r\n}\r\n", "// \u4E3B\u8981\u662F\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u5C5E\u6027\u64CD\u4F5C  class style event \u666E\u901A\u5C5E\u6027\r\n\r\nimport patchAttr from './modules/patchAttr';\r\nimport patchClass from './modules/patchClass';\r\nimport patchEvent from './modules/patchEvent';\r\nimport patchStyle from './modules/patchStyle';\r\n\r\n// diff\r\n\r\nexport default function patchProp(el, key, prevValue, nextValue) {\r\n  if (key === 'class') {\r\n    return patchClass(el, nextValue);\r\n  }\r\n  else if(key === 'style'){\r\n    return patchStyle(el,prevValue,nextValue)\r\n  }\r\n  else if(/^on[^a-z]/.test(key)){\r\n    // \u4E8B\u4EF6\r\n    return patchEvent(el,key,nextValue)\r\n  }\r\n  else{\r\n    // \u666E\u901A\u5C5E\u6027\r\n    return patchAttr(el,key,nextValue)\r\n  }\r\n}\r\n", "import { createRenderer } from '@vue/runtime-core';\r\n\r\nimport { nodeOps } from './nodeOps';\r\nimport patchProp from './patchProp';\r\n\r\n// \u5C06\u8282\u70B9\u64CD\u4F5C\u548C\u5C5E\u6027\u64CD\u4F5C\u5408\u5E76\r\nconst renderOptions = Object.assign({ patchProp }, nodeOps);\r\n\r\n// render \u65B9\u6CD5\u91C7\u7528domApi \u6765\u8FDB\u884C\u6E32\u67D3\r\nexport const render = (vnode, container) => {\r\n  createRenderer(renderOptions).render(vnode, container);\r\n}\r\n\r\n// runtime-dom -> runtime-core -> reactivity\r\nexport * from '@vue/runtime-core';\r\n\r\n"],
  "mappings": "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",
  "names": ["renderOptions", "render"]
}
